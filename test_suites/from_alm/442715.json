{
  "value": [
    {
      "testPlan": {
        "id": 442604,
        "name": "СПекТР.Базовый тест-план"
      },
      "project": {
        "id": "d614db65-499b-44b2-908e-4781ef825d3f",
        "name": "U210001901_spektr",
        "state": "unchanged",
        "visibility": "unchanged",
        "lastUpdateTime": "0001-01-01T00:00:00"
      },
      "testSuite": {
        "id": 442715,
        "name": "datastore"
      },
      "workItem": {
        "id": 275103,
        "name": "Проверка статуса операций в таблице data_store.\"Operations\"",
        "workItemFields": [
          {
            "Microsoft.VSTS.TCM.Steps": "<steps id=\"0\" last=\"3\"><step id=\"2\" type=\"ValidateStep\"><parameterizedString isformatted=\"true\">Проверяем запрос&lt;BR/&gt;&lt;PRE style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9,8pt\"&gt;&lt;SPAN style=\"color:#6a8759\"&gt;select json_agg (sub.*) as json_doc&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;from (&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;SELECT a.\"Id\", \"OperationInfoId\", b.\"Description\", \"OperationStatusId\",&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;\"OperationStartDate\", \"OperationEndDate\", \"ErrorDetails\"&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;FROM data_store.\"Operations\" a left join data_store.\"OperationInfo\" b&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;ON a.\"OperationInfoId\" = b.\"Id\"&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;WHERE \"OperationStatusId\" != 3&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;and \"ErrorDetails\" is not null&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;and &lt;/SPAN&gt;&lt;SPAN style=\"color:#cc7832\"&gt;\\\"&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;OperationStartDate&lt;/SPAN&gt;&lt;SPAN style=\"color:#cc7832\"&gt;\\\"&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt; &amp;gt; '%s'&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;order by \"OperationStartDate\" desc&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#6a8759\"&gt;) as sub&lt;/SPAN&gt;&lt;/PRE&gt;</parameterizedString><parameterizedString isformatted=\"true\">&lt;P&gt;Пустой ответ. &lt;BR/&gt;&lt;BR/&gt;Если не пустой, то ошибка.&lt;/P&gt;</parameterizedString><description/></step><step id=\"3\" type=\"ActionStep\"><parameterizedString isformatted=\"true\">&lt;DIV&gt;&lt;DIV&gt;&lt;P&gt;&lt;BR/&gt;&lt;/P&gt;&lt;/DIV&gt;&lt;/DIV&gt;</parameterizedString><parameterizedString isformatted=\"true\">&lt;DIV&gt;&lt;P&gt;&lt;BR/&gt;&lt;/P&gt;&lt;/DIV&gt;</parameterizedString><description/></step></steps>"
          },
          {
            "Microsoft.VSTS.Common.ActivatedBy": "Мухаметзянов Рустэм Игоревич <GAZPROM-NEFT\\Mukhametzyanov.RI>"
          },
          {
            "Microsoft.VSTS.Common.ActivatedDate": "2024-09-08T15:51:35.063Z"
          },
          {
            "Microsoft.VSTS.TCM.AutomationStatus": "Не автоматизирован"
          },
          {
            "System.State": "Дизайн"
          },
          {
            "System.AssignedTo": "Мухаметзянов Рустэм Игоревич <GAZPROM-NEFT\\Mukhametzyanov.RI>"
          },
          {
            "Microsoft.VSTS.Common.Priority": 2
          },
          {
            "Microsoft.VSTS.Common.StateChangeDate": "2024-09-08T15:51:35.063Z"
          },
          {
            "System.WorkItemType": "Тестовый случай"
          },
          {
            "System.Rev": 4
          }
        ]
      },
      "pointAssignments": [
        {
          "id": 39968,
          "configurationName": "Windows 10",
          "tester": {
            "displayName": "Мухаметзянов Рустэм Игоревич",
            "url": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/Identities/fb75fd12-0469-47ad-a0d3-a7f8f6bd12c7",
            "_links": {
              "avatar": {
                "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA"
              }
            },
            "id": "fb75fd12-0469-47ad-a0d3-a7f8f6bd12c7",
            "uniqueName": "GAZPROM-NEFT\\Mukhametzyanov.RI",
            "imageUrl": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA",
            "descriptor": "win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA"
          },
          "configurationId": 348
        }
      ],
      "links": {
        "testPoints": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715/TestPoint/39968"
        },
        "configuration": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Configurations/348"
        },
        "_self": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715/TestCase"
        },
        "sourcePlan": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604"
        },
        "sourceSuite": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715"
        },
        "sourceProject": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/projects/U210001901_spektr"
        }
      }
    },
    {
      "testPlan": {
        "id": 442604,
        "name": "СПекТР.Базовый тест-план"
      },
      "project": {
        "id": "d614db65-499b-44b2-908e-4781ef825d3f",
        "name": "U210001901_spektr",
        "state": "unchanged",
        "visibility": "unchanged",
        "lastUpdateTime": "0001-01-01T00:00:00"
      },
      "testSuite": {
        "id": 442715,
        "name": "datastore"
      },
      "workItem": {
        "id": 275104,
        "name": "Проверка на отсутствие дубликатов в datastore.\"TechModes\"",
        "workItemFields": [
          {
            "Microsoft.VSTS.TCM.Steps": "<steps id=\"0\" last=\"2\"><step id=\"2\" type=\"ValidateStep\"><parameterizedString isformatted=\"true\">&lt;DIV&gt;&lt;PRE style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9,8pt\"&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Делаем запрос количества ТРов за следующий месяц.&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Если там не пусто, то ищем дубликаты за тот же месяц.&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Иначе ищем дубликаты за текущий месяц&lt;/SPAN&gt;&lt;/PRE&gt;&lt;/DIV&gt;</parameterizedString><parameterizedString isformatted=\"true\">&lt;P&gt;Не должно быть дубликатов.&lt;/P&gt;</parameterizedString><description/></step></steps>"
          },
          {
            "Microsoft.VSTS.Common.ActivatedBy": "Мухаметзянов Рустэм Игоревич <GAZPROM-NEFT\\Mukhametzyanov.RI>"
          },
          {
            "Microsoft.VSTS.Common.ActivatedDate": "2024-09-08T16:05:20.227Z"
          },
          {
            "Microsoft.VSTS.TCM.AutomationStatus": "Не автоматизирован"
          },
          {
            "System.State": "Дизайн"
          },
          {
            "System.AssignedTo": "Мухаметзянов Рустэм Игоревич <GAZPROM-NEFT\\Mukhametzyanov.RI>"
          },
          {
            "Microsoft.VSTS.Common.Priority": 2
          },
          {
            "Microsoft.VSTS.Common.StateChangeDate": "2024-09-08T16:05:20.227Z"
          },
          {
            "System.WorkItemType": "Тестовый случай"
          },
          {
            "System.Rev": 2
          }
        ]
      },
      "order": 1,
      "pointAssignments": [
        {
          "id": 39969,
          "configurationName": "Windows 10",
          "tester": {
            "displayName": "Мухаметзянов Рустэм Игоревич",
            "url": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/Identities/fb75fd12-0469-47ad-a0d3-a7f8f6bd12c7",
            "_links": {
              "avatar": {
                "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA"
              }
            },
            "id": "fb75fd12-0469-47ad-a0d3-a7f8f6bd12c7",
            "uniqueName": "GAZPROM-NEFT\\Mukhametzyanov.RI",
            "imageUrl": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA",
            "descriptor": "win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA"
          },
          "configurationId": 348
        }
      ],
      "links": {
        "testPoints": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715/TestPoint/39969"
        },
        "configuration": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Configurations/348"
        },
        "_self": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715/TestCase"
        },
        "sourcePlan": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604"
        },
        "sourceSuite": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715"
        },
        "sourceProject": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/projects/U210001901_spektr"
        }
      }
    },
    {
      "testPlan": {
        "id": 442604,
        "name": "СПекТР.Базовый тест-план"
      },
      "project": {
        "id": "d614db65-499b-44b2-908e-4781ef825d3f",
        "name": "U210001901_spektr",
        "state": "unchanged",
        "visibility": "unchanged",
        "lastUpdateTime": "0001-01-01T00:00:00"
      },
      "testSuite": {
        "id": 442715,
        "name": "datastore"
      },
      "workItem": {
        "id": 275105,
        "name": "Проверка данных PVT, возвращаемых через API",
        "workItemFields": [
          {
            "Microsoft.VSTS.TCM.Steps": "<steps id=\"0\" last=\"2\"><step id=\"2\" type=\"ValidateStep\"><parameterizedString isformatted=\"true\">&lt;DIV&gt;&lt;PRE style=\"background-color:#2b2b2b;color:#a9b7c6;font-family:'JetBrains Mono',monospace;font-size:9,8pt\"&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;ТЗ: https://kb.gazprom-neft.local/pages/viewpage.action?pageId=133711022&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Условия:&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Если есть в spektr.pvt_data_by_object,&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;    значение в АПИ  = значению из таблицы spektr.pvt_data_by_object.&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Если в spektr.pvt_data_by_object значения нет,&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;    значение в АПИ = значению из datastore.PvtData (приоритет isDefault: false, иначе true).&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;Если нет ни spektr.pvt_data_by_object, ни datastore.PvtData&lt;BR/&gt;&lt;/SPAN&gt;&lt;SPAN style=\"color:#629755;font-style:italic\"&gt;    значение в АПИ = дефолтному значению&lt;/SPAN&gt;&lt;/PRE&gt;&lt;/DIV&gt;</parameterizedString><parameterizedString isformatted=\"true\">&lt;P&gt;Успешное прохождение теста&lt;/P&gt;</parameterizedString><description/></step></steps>"
          },
          {
            "Microsoft.VSTS.Common.ActivatedBy": "Мухаметзянов Рустэм Игоревич <GAZPROM-NEFT\\Mukhametzyanov.RI>"
          },
          {
            "Microsoft.VSTS.Common.ActivatedDate": "2024-09-08T16:06:59.987Z"
          },
          {
            "Microsoft.VSTS.TCM.AutomationStatus": "Не автоматизирован"
          },
          {
            "System.State": "Дизайн"
          },
          {
            "System.AssignedTo": "Мухаметзянов Рустэм Игоревич <GAZPROM-NEFT\\Mukhametzyanov.RI>"
          },
          {
            "Microsoft.VSTS.Common.Priority": 2
          },
          {
            "Microsoft.VSTS.Common.StateChangeDate": "2024-09-08T16:06:59.987Z"
          },
          {
            "System.WorkItemType": "Тестовый случай"
          },
          {
            "System.Rev": 2
          }
        ]
      },
      "order": 2,
      "pointAssignments": [
        {
          "id": 39970,
          "configurationName": "Windows 10",
          "tester": {
            "displayName": "Мухаметзянов Рустэм Игоревич",
            "url": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/Identities/fb75fd12-0469-47ad-a0d3-a7f8f6bd12c7",
            "_links": {
              "avatar": {
                "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA"
              }
            },
            "id": "fb75fd12-0469-47ad-a0d3-a7f8f6bd12c7",
            "uniqueName": "GAZPROM-NEFT\\Mukhametzyanov.RI",
            "imageUrl": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA",
            "descriptor": "win.Uy0xLTUtMjEtMTAwNzcwNjc5Ny0zNDk4MDgwNTY0LTEzMzU4NzEzMS03NDIxODA"
          },
          "configurationId": 348
        }
      ],
      "links": {
        "testPoints": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715/TestPoint/39970"
        },
        "configuration": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Configurations/348"
        },
        "_self": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715/TestCase"
        },
        "sourcePlan": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604"
        },
        "sourceSuite": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/U210001901_spektr/_apis/testplan/Plans/442604/Suites/442715"
        },
        "sourceProject": {
          "href": "https://alm-itsk.gazprom-neft.local:8080/TFS/GPN/_apis/projects/U210001901_spektr"
        }
      }
    }
  ],
  "count": 3
}